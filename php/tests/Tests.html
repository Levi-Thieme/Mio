<!DOCTYPE html>
    <html lang="en">
        <head>
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
            <script>
                function runAllTests() {
                    $("#allTestsResults").empty();
                    let testUrls = [
                        "chat_server_tests/ClientTests.php",
                        "chat_server_tests/ChannelManagerTests.php",
                    ]
                    testUrls.map(url => runTests(url, "#allTestsResults", false));
                }

                function resultDiv(text, color) {
                    let div = document.createElement("div");
                    div.style.color = color;
                    div.textContent = text;
                    return div;
                }

                function runTests(url, resultId, emptyBeforeExecuting) {
                    if (emptyBeforeExecuting) {
                        $(resultId).empty();
                    }
                    $.ajax({
                        type: "POST",
                        async: true,
                        url: url,
                        complete: function(data) {
                            $(resultId).append(resultDiv("Running tests @ " + url, "blue"));
                            let testResults = JSON.parse(data["responseText"]);
                            for (let result in testResults) {
                                if (testResults[result]) {
                                    $(resultId).append(resultDiv(result + " Passed", "green"));
                                }
                                else {
                                    $(resultId).append(resultDiv(result + " Failed", "red"));
                                }
                            }
                        }
                    });
                }
            </script>
        </head>
        <body>
            <button onclick="runAllTests();">Run All Tests</button>
            <div id="allTestsResults"></div>
            <ul>
            <li>
                <button onclick="runTests('chat_server_tests/ClientTests.php', '#ClientTests', true);">Run Client Tests</button>
                <div id="ClientTests"></div>
                <button onclick="runTests('chat_server_tests/ChannelManagerTests.php', '#ChannelManagerTests', true);">Run ChannelManager Tests</button>
                <div id="ChannelManagerTests"></div>
            </li>
            </ul>
        </body>
    </html>